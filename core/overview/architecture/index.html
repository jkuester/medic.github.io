
<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.71.1" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/beta/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/beta/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/beta/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/beta/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/beta/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/beta/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/beta/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/beta/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/beta/favicons/android-192x192.png" sizes="192x192">

<title>Architecture of CHT Instances | Community Health Toolkit</title><meta property="og:title" content="Architecture of CHT Instances" />
<meta property="og:description" content="The different pieces of a CHT project, how they interact, and what they&#39;re used for
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.communityhealthtoolkit.org/beta/core/overview/architecture/" />
<meta property="article:modified_time" content="2020-06-03T18:34:04-04:00" /><meta property="og:site_name" content="Community Health Toolkit" />
<meta itemprop="name" content="Architecture of CHT Instances">
<meta itemprop="description" content="The different pieces of a CHT project, how they interact, and what they&#39;re used for
">
<meta itemprop="dateModified" content="2020-06-03T18:34:04-04:00" />
<meta itemprop="wordCount" content="447">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Architecture of CHT Instances"/>
<meta name="twitter:description" content="The different pieces of a CHT project, how they interact, and what they&#39;re used for
"/>





<link rel="preload" href="/beta/scss/main.min.6c9cfbd21677a7e7dbf84cdc0d519aaa8b5ae1e669353f63fd8018abf82a8e2e.css" as="style">
<link href="/beta/scss/main.min.6c9cfbd21677a7e7dbf84cdc0d519aaa8b5ae1e669353f63fd8018abf82a8e2e.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>


  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/beta/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Community Health Toolkit</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/beta/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/beta/offline-search-index.701940a4514f6dfbc9ceee6e6ce20ec9d4eb614fb3b81edf80e5d3eb57420911149003d4f252b5dbb7f291f5993fdd996214ee9b0f7f3a880729d9fa492561d3.json"
  data-offline-search-base-href="/"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            





<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/beta/offline-search-index.701940a4514f6dfbc9ceee6e6ce20ec9d4eb614fb3b81edf80e5d3eb57420911149003d4f252b5dbb7f291f5993fdd996214ee9b0f7f3a880729d9fa492561d3.json"
  data-offline-search-base-href="/"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    
    
    
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">

    <li class="collapse show" id="beta">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betawhy-the-cht" href="/beta/why-the-cht/">Why the CHT?</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CHT Applications</a>
  </li>
  <ul>

    <li class="collapse " id="betaapps">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsconcepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsaccess" href="/beta/apps/concepts/access/">Access</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsnavigation" href="/beta/apps/concepts/navigation/">Navigation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsforms" href="/beta/apps/concepts/forms/">Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptscare-guides" href="/beta/apps/concepts/care-guides/">Care Guides</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsworkflows" href="/beta/apps/concepts/workflows/">Workflows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptshierarchy" href="/beta/apps/concepts/hierarchy/">Hierarchies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsusers" href="/beta/apps/concepts/users/">Users</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsinteroperability" href="/beta/apps/concepts/interoperability/">Interoperability</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Features</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeatures">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/contacts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contacts</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturescontacts">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/messaging/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Messaging</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesmessaging">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/reports/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reports</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesreports">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/tasks/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tasks</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturestasks">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/targets/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Targets</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturestargets">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/admin/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">App Management</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesadmin">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/integrations/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Integrations</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesintegrations">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsdhis2" href="/beta/apps/features/integrations/dhis2/">DHIS2</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsopenmrs" href="/beta/apps/features/integrations/openmrs/">OpenMRS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsrapidpro" href="/beta/apps/features/integrations/rapidpro/">RapidPro</a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Examples</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsexamples">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsexamplesanc" href="/beta/apps/examples/anc/">ANC Reference App</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/tutorials/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials</a>
  </li>
  <ul>

    <li class="collapse " id="betaappstutorials">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialslocal-setup" href="/beta/apps/tutorials/local-setup/">Local Setup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialscontact-and-users-1" href="/beta/apps/tutorials/contact-and-users-1/">Contacts &#43; Users 1</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialscontact-and-users-2" href="/beta/apps/tutorials/contact-and-users-2/">Contacts &#43; Users 2</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quick Guides</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguides">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdhis2-aggregate" href="/beta/apps/guides/dhis2-aggregate/">DHIS2 Aggregate</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesafricas-talking" href="/beta/apps/guides/africas-talking/">Africa&#39;s Talking</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidescouch2pg-oom-errors" href="/beta/apps/guides/couch2pg-oom-errors/">Couch2pg Memory Errors</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdatabase-conflicts" href="/beta/apps/guides/database-conflicts/">Database Conflicts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesmessage-loops" href="/beta/apps/guides/message-loops/">Message Loops</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesmoving-contacts" href="/beta/apps/guides/moving-contacts/">Moving Contacts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesobtaining-logs" href="/beta/apps/guides/obtaining-logs/">Obtaining Logs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesreplicating-production-data-locally" href="/beta/apps/guides/replicating-production-data-locally/">Production Data</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesrdbms-in-windows" href="/beta/apps/guides/rdbms-in-windows/">RDBMS in Windows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidescollect-forms-update" href="/beta/apps/guides/collect-forms-update/">Remote Collect Update</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessecuring-android" href="/beta/apps/guides/securing-android/">Securing Android</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesssh-into-docker" href="/beta/apps/guides/ssh-into-docker/">SSH into Docker</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidestelemetry" href="/beta/apps/guides/telemetry/">Telemetry</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsreference">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencesupported-software" href="/beta/apps/reference/supported-software/">Supported Versions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-forms" href="/beta/apps/reference/app-forms/">App Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settings" href="/beta/apps/reference/app-settings/">App Settings</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settings-validations" href="/beta/apps/reference/app-settings-validations/">App Settings Validations</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencecollect-forms" href="/beta/apps/reference/collect-forms/">Collect Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencecontact-forms" href="/beta/apps/reference/contact-forms/">Contact Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencecontact-page" href="/beta/apps/reference/contact-page/">Contact Pages</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencedhis2" href="/beta/apps/reference/dhis2/">DHIS2</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencefunctions" href="/beta/apps/reference/functions/">Functions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencegraphics" href="/beta/apps/reference/graphics/">Graphics</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencehierarchy" href="/beta/apps/reference/hierarchy/">Hierarchy</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencejson-forms" href="/beta/apps/reference/json-forms/">JSON Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencelocalization" href="/beta/apps/reference/localization/">Localization</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceoutbound" href="/beta/apps/reference/outbound/">Outbound</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencereplication" href="/beta/apps/reference/replication/">Replications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencesms-states" href="/beta/apps/reference/sms-states/">SMS States</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceworkflows-sms" href="/beta/apps/reference/workflows-sms/">SMS Workflows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencetargets" href="/beta/apps/reference/targets/">Targets</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencetasks" href="/beta/apps/reference/tasks/">Tasks</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencetransitions" href="/beta/apps/reference/transitions/">Transitions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceuser-permissions" href="/beta/apps/reference/user-permissions/">User Permissions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceuser-roles" href="/beta/apps/reference/user-roles/">User Roles</a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">CHT Core Framework</a>
  </li>
  <ul>

    <li class="collapse show" id="betacore">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/overview/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>

    <li class="collapse show" id="betacoreoverview">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-betacoreoverviewarchitecture" href="/beta/core/overview/architecture/">Architecture</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewdb-schema" href="/beta/core/overview/db-schema/">Database Schema</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewdata-flows-for-analytics" href="/beta/core/overview/data-flows-for-analytics/">Data Flows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewtransitions" href="/beta/core/overview/transitions/">Transitions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewtranslations" href="/beta/core/overview/translations/">Translations</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/process/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Process</a>
  </li>
  <ul>

    <li class="collapse " id="betacoreprocess">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessworkflow" href="/beta/core/process/workflow/">Workflow</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessreleasing" href="/beta/core/process/releasing/">Releasing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessupdate-dependencies" href="/beta/core/process/update-dependencies/">Dependencies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessstyle-guide" href="/beta/core/process/style-guide/">Style Guide for Code</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/guides/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Guides</a>
  </li>
  <ul>

    <li class="collapse " id="betacoreguides">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesfixing-e2e-tests" href="/beta/core/guides/fixing-e2e-tests/">E2E Tests</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-git" href="/beta/core/guides/using-git/">Using Git</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-npm" href="/beta/core/guides/using-npm/">Using NPM</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-windows" href="/beta/core/guides/using-windows/">Windows Development</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>

    <li class="collapse " id="betacorefaq">
      
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Design System</a>
  </li>
  <ul>

    <li class="collapse " id="betadesign">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/personas/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Personas</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignpersonas">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaschw-janet" href="/beta/design/personas/chw-janet/">CHW</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaschw-supervisor-ann" href="/beta/design/personas/chw-supervisor-ann/">CHW Supervisor</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasregional-manager-christina" href="/beta/design/personas/regional-manager-christina/">Regional Manager</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasnurse-mary" href="/beta/design/personas/nurse-mary/">Nurse</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasdata-manager-paul" href="/beta/design/personas/data-manager-paul/">Data Manager</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasapp-builder" href="/beta/design/personas/app-builder/">App Builders</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/personas/partners/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Partners</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignpersonaspartners">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnersimplementers" href="/beta/design/personas/partners/implementers/">Implementers</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnerslocal-governments" href="/beta/design/personas/partners/local-governments/">Local Gov</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnersnational-governments" href="/beta/design/personas/partners/national-governments/">National Gov</a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/apps/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">App Development</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignapps">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/core/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Core Development</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigncore">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Icon Library</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignicons">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/forms_tasks_targets/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Forms, Tasks, Targets</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigniconsforms_tasks_targets">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/people_and_places/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">People and Places</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigniconspeople_and_places">
      
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadocs-style-guide" href="/beta/docs-style-guide/">Style Guide for Docs</a>
      
      
    </li>


</ul>

    
    
  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/medic/cht-docs/edit/master/content/en/core/overview/architecture.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/medic/cht-docs/issues/new?title=Architecture%20of%20CHT%20Instances" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/medic/cht-core/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#server-side">Server side</a>
      <ul>
        <li><a href="#couchdbhttpcouchdbapacheorg"><a href="http://couchdb.apache.org">CouchDB</a></a></li>
        <li><a href="#apihttpsgithubcommedicmedictreemasterapi"><a href="https://github.com/medic/medic/tree/master/api">api</a></a></li>
        <li><a href="#sentinelhttpsgithubcommedicmedictreemastersentinel"><a href="https://github.com/medic/medic/tree/master/sentinel">sentinel</a></a></li>
        <li><a href="#postgresqlhttpswwwpostgresqlorg"><a href="https://www.postgresql.org">PostgreSQL</a></a></li>
        <li><a href="#nginxhttpnginxorg"><a href="http://nginx.org">nginx</a></a></li>
      </ul>
    </li>
    <li><a href="#client-side">Client side</a>
      <ul>
        <li><a href="#cht-corehttpsgithubcommediccht-core"><a href="https://github.com/medic/cht-core">cht-core</a></a></li>
        <li><a href="#medic-androidhttpsgithubcommedicmedic-android"><a href="https://github.com/medic/medic-android">medic-android</a></a></li>
      </ul>
    </li>
    <li><a href="#other-applications">Other applications</a>
      <ul>
        <li><a href="#medic-gatewayhttpsgithubcommedicmedic-gateway"><a href="https://github.com/medic/medic-gateway">medic-gateway</a></a></li>
        <li><a href="#medic-collecthttpsgithubcommedicmedic-collect"><a href="https://github.com/medic/medic-collect">medic-collect</a></a></li>
        <li><a href="#medic-confhttpsgithubcommedicmedic-conf"><a href="https://github.com/medic/medic-conf">medic-conf</a></a></li>
        <li><a href="#simapp">SimApp</a></li>
        <li><a href="#medic-reporterhttpsgithubcommedicmedic-reporter"><a href="https://github.com/medic/medic-reporter">medic-reporter</a></a></li>
      </ul>
    </li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://docs.communityhealthtoolkit.org/beta/core/">CHT Core Framework</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docs.communityhealthtoolkit.org/beta/core/overview/">Overview</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://docs.communityhealthtoolkit.org/beta/core/overview/architecture/">Architecture</a>
</li>

	</ol>
</nav	>

            

<div class="td-content">
	<h1>Architecture of CHT Instances</h1>
    <div class="lead">The different pieces of a CHT project, how they interact, and what they&rsquo;re used for</div>
	       
	<h2 id="overview">Overview</h2>
<p><img src="../../img/architecture.png" alt="Architecture of a CHT project"></p>
<h2 id="server-side">Server side</h2>
<h3 id="couchdbhttpcouchdbapacheorg"><a href="http://couchdb.apache.org">CouchDB</a></h3>
<p>A free and open source NoSQL database we use to store all our data, configuration, and even the application code. CouchDB is really good at replication which is the process of sending the data to another database and back again.</p>
<h3 id="apihttpsgithubcommedicmedictreemasterapi"><a href="https://github.com/medic/medic/tree/master/api">api</a></h3>
<p>A NodeJS service which runs on the server as a wrapper around CouchDB. It provides some security, auditing, and integration APIs. It also includes a custom implementation of filtered replication to allow it to support more concurrent users.</p>
<h3 id="sentinelhttpsgithubcommedicmedictreemastersentinel"><a href="https://github.com/medic/medic/tree/master/sentinel">sentinel</a></h3>
<p>Another NodeJS service running on the server, sentinel performs actions called transitions every time a document in CouchDB is added or modified. Some examples are validations, generating scheduled messages, automatic responses, creating patients, and sending alerts.</p>
<h3 id="postgresqlhttpswwwpostgresqlorg"><a href="https://www.postgresql.org">PostgreSQL</a></h3>
<p>A free and open source SQL database that we use for analytics queries for display in tools like klipfolio. We created a library called <a href="https://github.com/medic/couch2pg">couch2pg</a> to replicate data from CouchDB into PostgreSQL.</p>
<h3 id="nginxhttpnginxorg"><a href="http://nginx.org">nginx</a></h3>
<p>nginx proxies all requests to api and adds encryption and compression.</p>
<h2 id="client-side">Client side</h2>
<h3 id="cht-corehttpsgithubcommediccht-core"><a href="https://github.com/medic/cht-core">cht-core</a></h3>
<p>This is the application that most users interact with. It&rsquo;s an <a href="https://angularjs.org">AngularJS</a> single page responsive web application.</p>
<p>We use an offline first strategy which means the data is stored on the client and all pages can load immediately regardless of whether you have a fast connection, slow connection, or no connection at all. The data is stored in <a href="https://pouchdb.com">PouchDB</a> which replicates changes back and forth in the background with the server CouchDB.</p>
<p>We use <a href="https://enketo.org">Enketo</a> to render configured xforms and help with styling and dynamic elements such as show/hide and validation rules.</p>
<p>We use the <a href="https://github.com/C2FO/nools">nools</a> rules engine to compute the upcoming tasks and monthly targets of the users.</p>
<h3 id="medic-androidhttpsgithubcommedicmedic-android"><a href="https://github.com/medic/medic-android">medic-android</a></h3>
<p>The application works in the browser or wrapped in the medic-android app which allows for project branding, sets the project URL, and hides browser elements like the URL bar.</p>
<h2 id="other-applications">Other applications</h2>
<h3 id="medic-gatewayhttpsgithubcommedicmedic-gateway"><a href="https://github.com/medic/medic-gateway">medic-gateway</a></h3>
<p>Medic Gateway is an android app for sending and receiving SMS messages. Each SMS enabled project has one gateway running. It polls an api endpoint to write incoming SMS into the CouchDB and retrieve outgoing SMS to send.</p>
<h3 id="medic-collecthttpsgithubcommedicmedic-collect"><a href="https://github.com/medic/medic-collect">medic-collect</a></h3>
<p>An android app based on <a href="https://opendatakit.org">Open Data Kit</a> to render xforms on the phone and send reports in to medic-gateway over SMS or directly to api over mobile data.</p>
<h3 id="medic-confhttpsgithubcommedicmedic-conf"><a href="https://github.com/medic/medic-conf">medic-conf</a></h3>
<p>A command line utility for uploading configuration and bulk importing of records.</p>
<h3 id="simapp">SimApp</h3>
<p>A SimApp is a thin chip inserted under the SIM card and can be used to provide a menu for sending reports over SMS on feature phones. See <a href="http://medicmobile.org/tools">Tools for Basic Phones</a>.</p>
<h3 id="medic-reporterhttpsgithubcommedicmedic-reporter"><a href="https://github.com/medic/medic-reporter">medic-reporter</a></h3>
<p>A helper tool for sending reports directly to api for testing report submission without having to send an SMS through the gateway.</p>

	


	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/medic/cht-docs/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/medic/cht-docs/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified 03.06.2020: <a  href="https://github.com/medic/cht-docs/commit/01bc86a46ab52e8498e6eb6e0522cebabad2601b">Imported and edited variables section (01bc86a)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 CHT All Rights Reserved</small>
        <small class="ml-1"><a href="https://docs.google.com/document/d/1MaI1rgYMNyCZF2eEjBuvnBDoCYHDKlx4k_N5pkDiWu8/edit?usp=sharing" target="_blank">Privacy Policy</a></small>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/beta/js/main.min.7afee248b9b3c1d4438c6841cc272ae0ac1f81a3ee5c0ed939f1d57c18de3f7d.js" integrity="sha256-ev7iSLmzwdRDjGhBzCcq4KwfgaPuXA7ZOfHVfBjeP30=" crossorigin="anonymous"></script>



  </body>
</html>