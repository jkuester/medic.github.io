
<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.71.1" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/beta/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/beta/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/beta/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/beta/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/beta/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/beta/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/beta/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/beta/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/beta/favicons/android-192x192.png" sizes="192x192">

<title>tasks.js | Community Health Toolkit</title><meta property="og:title" content="tasks.js" />
<meta property="og:description" content="**Tasks**: Definition of tasks shown to app users
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.communityhealthtoolkit.org/beta/apps/reference/tasks/" />
<meta property="article:modified_time" content="2020-06-04T23:00:12-07:00" /><meta property="og:site_name" content="Community Health Toolkit" />
<meta itemprop="name" content="tasks.js">
<meta itemprop="description" content="**Tasks**: Definition of tasks shown to app users
">
<meta itemprop="dateModified" content="2020-06-04T23:00:12-07:00" />
<meta itemprop="wordCount" content="1406">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="tasks.js"/>
<meta name="twitter:description" content="**Tasks**: Definition of tasks shown to app users
"/>





<link rel="preload" href="/beta/scss/main.min.6c9cfbd21677a7e7dbf84cdc0d519aaa8b5ae1e669353f63fd8018abf82a8e2e.css" as="style">
<link href="/beta/scss/main.min.6c9cfbd21677a7e7dbf84cdc0d519aaa8b5ae1e669353f63fd8018abf82a8e2e.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>


  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/beta/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Community Health Toolkit</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/beta/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/beta/offline-search-index.136ef872e93afc7495f9bc873d932beaa1bbf42697ef453d328fa45c9985b188b005c3fddf32275a4fb6d4c6db3e76d6d4b72ee59dbada619f3d41401add36f3.json"
  data-offline-search-base-href="/"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            





<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/beta/offline-search-index.136ef872e93afc7495f9bc873d932beaa1bbf42697ef453d328fa45c9985b188b005c3fddf32275a4fb6d4c6db3e76d6d4b72ee59dbada619f3d41401add36f3.json"
  data-offline-search-base-href="/"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    
    
    
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">

    <li class="collapse show" id="beta">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betawhy-the-cht" href="/beta/why-the-cht/">Why the CHT?</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">CHT Applications</a>
  </li>
  <ul>

    <li class="collapse show" id="betaapps">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsconcepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsaccess" href="/beta/apps/concepts/access/">Access</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsnavigation" href="/beta/apps/concepts/navigation/">Navigation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsforms" href="/beta/apps/concepts/forms/">Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptscare-guides" href="/beta/apps/concepts/care-guides/">Care Guides</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsworkflows" href="/beta/apps/concepts/workflows/">Workflows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptshierarchy" href="/beta/apps/concepts/hierarchy/">Hierarchies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsusers" href="/beta/apps/concepts/users/">Users</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsinteroperability" href="/beta/apps/concepts/interoperability/">Interoperability</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsconceptsprerequisites" href="/beta/apps/concepts/prerequisites/">Prerequisites</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Features</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeatures">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/contacts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contacts</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturescontacts">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/messaging/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Messaging</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesmessaging">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/reports/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reports</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesreports">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/tasks/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tasks</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturestasks">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/targets/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Targets</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturestargets">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/admin/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">App Management</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesadmin">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/features/integrations/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Integrations</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsfeaturesintegrations">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsdhis2" href="/beta/apps/features/integrations/dhis2/">DHIS2</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsopenmrs" href="/beta/apps/features/integrations/openmrs/">OpenMRS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsfeaturesintegrationsrapidpro" href="/beta/apps/features/integrations/rapidpro/">RapidPro</a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Examples</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsexamples">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsexamplesanc" href="/beta/apps/examples/anc/">ANC Reference App</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsexamplescontact-tracing" href="/beta/apps/examples/contact-tracing/">Contact Tracing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsexamplesebs" href="/beta/apps/examples/ebs/">Event Based Surveillance</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/tutorials/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials</a>
  </li>
  <ul>

    <li class="collapse " id="betaappstutorials">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialslocal-setup" href="/beta/apps/tutorials/local-setup/">Local Setup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialscontact-and-users-1" href="/beta/apps/tutorials/contact-and-users-1/">Contacts &#43; Users 1</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappstutorialscontact-and-users-2" href="/beta/apps/tutorials/contact-and-users-2/">Contacts &#43; Users 2</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quick Guides</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguides">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/database-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Database Management</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguidesdatabase-management">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdatabase-managementcouch2pg-oom-errors" href="/beta/apps/guides/database-management/couch2pg-oom-errors/">Couch2pg Memory Errors</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdatabase-managementcouchdb-authentication" href="/beta/apps/guides/database-management/couchdb-authentication/">CouchDB Authentication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdatabase-managementdatabase-conflicts" href="/beta/apps/guides/database-management/database-conflicts/">Database Conflicts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdatabase-managementrdbms-in-windows" href="/beta/apps/guides/database-management/rdbms-in-windows/">RDBMS in Windows</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/data-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Document Management</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguidesdata-management">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdata-managementcsv-to-docs" href="/beta/apps/guides/data-management/csv-to-docs/">CSV to Docs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdata-managementpurging" href="/beta/apps/guides/data-management/purging/">Purging</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/hosting/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Hosting</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguideshosting">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguideshostingec2-setup-guide" href="/beta/apps/guides/hosting/ec2-setup-guide/">EC2 Setup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguideshostingself-hosting" href="/beta/apps/guides/hosting/self-hosting/">Self Hosting</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguideshostingssh-into-docker" href="/beta/apps/guides/hosting/ssh-into-docker/">SSH into Docker</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguideshostingssl-cert-install" href="/beta/apps/guides/hosting/ssl-cert-install/">SSL Cert Install</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesdhis2-aggregate" href="/beta/apps/guides/dhis2-aggregate/">DHIS2 Aggregate</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/forms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Forms</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguidesforms">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesformsadditional-docs" href="/beta/apps/guides/forms/additional-docs/">Additional Docs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesformsapp-form-sms" href="/beta/apps/guides/forms/app-form-sms/">App Form SMS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesformscontact-forms" href="/beta/apps/guides/forms/contact-forms/">Contact Forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesformsmultimedia" href="/beta/apps/guides/forms/multimedia/">Multimedia in Forms</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/gateway/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Gateway</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguidesgateway">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesgatewayconfiguration" href="/beta/apps/guides/gateway/configuration/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesgatewayphones" href="/beta/apps/guides/gateway/phones/">Phones</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesgatewaytroubleshooting" href="/beta/apps/guides/gateway/troubleshooting/">Troubleshooting</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesimpact-metrics" href="/beta/apps/guides/impact-metrics/">Impact Metrics</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesinvalid-reports" href="/beta/apps/guides/invalid-reports/">Invalid Reports</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesmoving-contacts" href="/beta/apps/guides/moving-contacts/">Moving Contacts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesobtaining-logs" href="/beta/apps/guides/obtaining-logs/">Obtaining Logs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesreplicating-production-data-locally" href="/beta/apps/guides/replicating-production-data-locally/">Production Data</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidescollect-forms-update" href="/beta/apps/guides/collect-forms-update/">Remote Collect Update</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesreplication" href="/beta/apps/guides/replication/">Replication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidesreport-titles" href="/beta/apps/guides/report-titles/">Report Titles</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessecuring-android" href="/beta/apps/guides/securing-android/">Securing Android</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/guides/sms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SMS</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsguidessms">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessmssms-states" href="/beta/apps/guides/sms/sms-states/">SMS States</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessmsafricas-talking" href="/beta/apps/guides/sms/africas-talking/">Africa&#39;s Talking</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessmsmessage-loops" href="/beta/apps/guides/sms/message-loops/">Message Loops</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidessmsshortcodes" href="/beta/apps/guides/sms/shortcodes/">Shortcodes</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsguidestelemetry" href="/beta/apps/guides/telemetry/">Telemetry</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>

    <li class="collapse show" id="betaappsreference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/forms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">forms</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsreferenceforms">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceformsapp" href="/beta/apps/reference/forms/app/">app</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceformscollect" href="/beta/apps/reference/forms/collect/">collect</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceformscontact" href="/beta/apps/reference/forms/contact/">contact</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/resources/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">resources</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsreferenceresources">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/translations/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">translations</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsreferencetranslations">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/apps/reference/app-settings/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">app_settings.json</a>
  </li>
  <ul>

    <li class="collapse " id="betaappsreferenceapp-settings">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingshierarchy" href="/beta/apps/reference/app-settings/hierarchy/">.contact_types</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsdhis2" href="/beta/apps/reference/app-settings/dhis2/">.dhisDataSets</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsforms" href="/beta/apps/reference/app-settings/forms/">.forms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsoutbound" href="/beta/apps/reference/app-settings/outbound/">.outbound</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingspatient_reports" href="/beta/apps/reference/app-settings/patient_reports/">.patient_reports</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsuser-permissions" href="/beta/apps/reference/app-settings/user-permissions/">.permissions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsregistrations" href="/beta/apps/reference/app-settings/registrations/">.registrations</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsreplication" href="/beta/apps/reference/app-settings/replication/">.replications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsuser-roles" href="/beta/apps/reference/app-settings/user-roles/">.roles</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingsschedules" href="/beta/apps/reference/app-settings/schedules/">.schedules</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingssms" href="/beta/apps/reference/app-settings/sms/">.sms</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferenceapp-settingstransitions" href="/beta/apps/reference/app-settings/transitions/">.transitions</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencecontact-page" href="/beta/apps/reference/contact-page/">contact-summary.templated.js</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreferencetargets" href="/beta/apps/reference/targets/">targets.js</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-betaappsreferencetasks" href="/beta/apps/reference/tasks/">tasks.js</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betaappsreference_partial_functions" href="/beta/apps/reference/_partial_functions/"></a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CHT Core Framework</a>
  </li>
  <ul>

    <li class="collapse " id="betacore">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>

    <li class="collapse " id="betacoreoverview">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewarchitecture" href="/beta/core/overview/architecture/">Architecture</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewdb-schema" href="/beta/core/overview/db-schema/">Database Schema</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewdata-flows-for-analytics" href="/beta/core/overview/data-flows-for-analytics/">Data Flows</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewtransitions" href="/beta/core/overview/transitions/">Transitions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewtranslations" href="/beta/core/overview/translations/">Translations</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreoverviewsupported-software" href="/beta/core/overview/supported-software/">Supported Versions</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/process/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Process</a>
  </li>
  <ul>

    <li class="collapse " id="betacoreprocess">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessworkflow" href="/beta/core/process/workflow/">Workflow</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessreleasing" href="/beta/core/process/releasing/">Releasing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessupdate-dependencies" href="/beta/core/process/update-dependencies/">Dependencies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreprocessstyle-guide" href="/beta/core/process/style-guide/">Style Guide for Code</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/guides/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Guides</a>
  </li>
  <ul>

    <li class="collapse " id="betacoreguides">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesfixing-e2e-tests" href="/beta/core/guides/fixing-e2e-tests/">E2E Tests</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-git" href="/beta/core/guides/using-git/">Using Git</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-npm" href="/beta/core/guides/using-npm/">Using NPM</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusers-bulk-load" href="/beta/core/guides/users-bulk-load/">Bulk Load Users</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesusing-windows" href="/beta/core/guides/using-windows/">Windows Development</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesdocker-setup" href="/beta/core/guides/docker-setup/">Docker Setup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betacoreguidesget-android-logs" href="/beta/core/guides/get-android-logs/">Get Android Logs</a>
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/core/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>

    <li class="collapse " id="betacorefaq">
      
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Design System</a>
  </li>
  <ul>

    <li class="collapse " id="betadesign">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/personas/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Personas</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignpersonas">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaschw-janet" href="/beta/design/personas/chw-janet/">CHW</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaschw-supervisor-ann" href="/beta/design/personas/chw-supervisor-ann/">CHW Supervisor</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasregional-manager-christina" href="/beta/design/personas/regional-manager-christina/">Regional Manager</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasnurse-mary" href="/beta/design/personas/nurse-mary/">Nurse</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasdata-manager-paul" href="/beta/design/personas/data-manager-paul/">Data Manager</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonasapp-builder" href="/beta/design/personas/app-builder/">App Builders</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/personas/partners/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Partners</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignpersonaspartners">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnersimplementers" href="/beta/design/personas/partners/implementers/">Implementers</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnerslocal-governments" href="/beta/design/personas/partners/local-governments/">Local Gov</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadesignpersonaspartnersnational-governments" href="/beta/design/personas/partners/national-governments/">National Gov</a>
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/apps/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">App Development</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignapps">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/core/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Core Development</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigncore">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Icon Library</a>
  </li>
  <ul>

    <li class="collapse " id="betadesignicons">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/forms_tasks_targets/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Forms, Tasks, Targets</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigniconsforms_tasks_targets">
      
      
      
    </li>

  </ul>


</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">

  <li class="td-sidebar-nav__section-title">
    <a  href="/beta/design/icons/people_and_places/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">People and Places</a>
  </li>
  <ul>

    <li class="collapse " id="betadesigniconspeople_and_places">
      
      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
    </li>

  </ul>


</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-betadocs-style-guide" href="/beta/docs-style-guide/">Style Guide for Docs</a>
      
      
    </li>


</ul>

    
    
  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/medic/cht-docs/edit/master/content/en/apps/reference/tasks.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/medic/cht-docs/issues/new?title=tasks.js" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/medic/cht-core/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#tasksjs"><code>tasks.js</code></a></li>
    <li><a href="#code-samples">Code samples</a>
      <ul>
        <li><a href="#basic-task">Basic task</a></li>
        <li><a href="#tasks-with-functions">Tasks with functions</a></li>
      </ul>
    </li>
    <li><a href="#build">Build</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://docs.communityhealthtoolkit.org/beta/apps/">CHT Applications</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docs.communityhealthtoolkit.org/beta/apps/reference/">Reference</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://docs.communityhealthtoolkit.org/beta/apps/reference/tasks/">tasks.js</a>
</li>

	</ol>
</nav	>

            

<div class="td-content">
	<h1>tasks.js</h1>
    <div class="lead"><strong>Tasks</strong>: Definition of tasks shown to app users</div>
	       
	<p><img src="task-with-description.png" alt="task"></p>
<p>Tasks are configured in the <code>tasks.js</code> file. This file is a JavaScript module which defines an array of objects conforming to the Task schema detailed below. When defining tasks, all the data about contacts on the device (both people and places) along with all their reports are available. Tasks are available only for users of type &ldquo;restricted to their place&rdquo;. Tasks can pull in fields from reports and pass data as inputs to the form that opens when the task is selected, enabling richer user experiences.</p>
<p><em>See Also:</em> <a href=https://docs.communityhealthtoolkit.org/beta/apps/features/tasks/#>Tasks Overview</a></p>
<h2 id="tasksjs"><code>tasks.js</code></h2>
<table>
<thead>
<tr>
<th>property</th>
<th>type</th>
<th>description</th>
<th>required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>A unique identifier for the task. Used for querying task completeness.</td>
<td>yes, unique</td>
</tr>
<tr>
<td><code>icon</code></td>
<td><code>string</code></td>
<td>The icon to show alongside the task. Should correspond with a value defined in <code>resources.json</code>.</td>
<td>no</td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>translation key</code></td>
<td>The title of the task (labeled above).</td>
<td>yes</td>
</tr>
<tr>
<td><code>appliesTo</code></td>
<td><code>'contacts'</code> or <code>'reports'</code></td>
<td>Do you want to emit one task per report, or one task per contact? This attribute controls the behavior of other properties herein.</td>
<td>yes</td>
</tr>
<tr>
<td><code>appliesIf</code></td>
<td><code>function(contact, report)</code></td>
<td>If <code>appliesTo: 'contacts'</code>, this function is invoked once per contact and <code>report</code> is undefined. If <code>appliesTo: 'reports'</code>, this function is invoked once per report. Return true if the task should appear for the given documents.</td>
<td>no</td>
</tr>
<tr>
<td><code>appliesToType</code></td>
<td><code>string[]</code></td>
<td>Filters the contacts or reports for which <code>appliesIf</code> will be evaluated. If <code>appliesTo: 'reports'</code>, this is an array of form codes. If <code>appliesTo: 'contacts'</code>, this is an array of contact types. For example, <code>['person']</code> or <code>['clinic', 'health_center']</code>. For example, <code>['pregnancy']</code> or <code>['P', 'pregnancy']</code>.</td>
<td>no</td>
</tr>
<tr>
<td><code>contactLabel</code></td>
<td><code>string</code> or <code>function(contact, report)</code></td>
<td>Controls the label describing the subject of the task. Defaults to the name of the contact (<code>contact.contact.name</code>).</td>
<td>no</td>
</tr>
<tr>
<td><code>resolvedIf</code></td>
<td><code>function(contact, report, event, dueDate)</code></td>
<td>Return true to mark the task as &ldquo;resolved&rdquo;. A resolved task uses memory on the phone, but is not displayed.</td>
<td>yes</td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>object[]</code></td>
<td>An event is used to specify the timing of the task.</td>
<td>yes</td>
</tr>
<tr>
<td><code>events[n].id</code></td>
<td><code>string</code></td>
<td>A descriptive identifier. Used for querying task completeness.</td>
<td>yes, unique</td>
</tr>
<tr>
<td><code>events[n].days</code></td>
<td><code>integer</code></td>
<td>Number of days after the doc&rsquo;s <code>reported_date</code> that the event is due</td>
<td>yes, if <code>dueDate</code> is not set</td>
</tr>
<tr>
<td><code>events[n].dueDate</code></td>
<td><code>function(event, contact, report)</code></td>
<td>Returns a <code>Date</code> object for the day when this event is due.</td>
<td>yes, if <code>days</code> is not set</td>
</tr>
<tr>
<td><code>events[n].start</code></td>
<td><code>integer</code></td>
<td>Number of days to show the task before it is due.</td>
<td>yes</td>
</tr>
<tr>
<td><code>events[n].end</code></td>
<td><code>integer</code></td>
<td>Number of days to show the task after it is due.</td>
<td>yes</td>
</tr>
<tr>
<td><code>actions</code></td>
<td><code>object[]</code></td>
<td>The actions (forms) that a user can access after clicking on a task. If you put multiple forms here, the user will see a task summary screen where they can select which action they would like to complete.</td>
<td>yes</td>
</tr>
<tr>
<td><code>actions[n].type</code></td>
<td><code>'report'</code> or <code>'contact'</code></td>
<td>When <code>'report'</code>, the action opens the given form. When <code>'contact'</code>, the action redirects to a contact&rsquo;s profile page. Defaults to &lsquo;report&rsquo;.</td>
<td>no</td>
</tr>
<tr>
<td><code>actions[n].form</code></td>
<td><code>string</code></td>
<td>The code of the form that should open when you select the action.</td>
<td>yes</td>
</tr>
<tr>
<td><code>actions[n].label</code></td>
<td><code>translation key</code></td>
<td>The label that should appear on the task summary screen if multiple actions are present.</td>
<td>no</td>
</tr>
<tr>
<td><code>actions[n].modifyContent</code></td>
<td><code>function (content, contact, report)</code></td>
<td>Set the values on the content object to control the data which will be passed as <code>inputs</code> to the form which opens when the action is selected.</td>
<td>no</td>
</tr>
<tr>
<td><code>priority</code></td>
<td><code>object</code> or <code>function(contact, report)</code> returning object of same schema</td>
<td>Controls the &ldquo;high risk&rdquo; line seen above.</td>
<td>no</td>
</tr>
<tr>
<td><code>priority.level</code></td>
<td><code>high</code> or <code>medium</code></td>
<td>Tasks that are <code>high</code> will display a high risk icon with the task. Default: <code>medium</code>.</td>
<td>no</td>
</tr>
<tr>
<td><code>priority.label</code></td>
<td><code>translation key</code></td>
<td>Text shown with the task associated to the risk level.</td>
<td>no</td>
</tr>
</tbody>
</table>
<h2 id="utils">Utils</h2>
<p>Utility functions in the Core Framework can make common tasks much easier. These are available only for Tasks and Targets. To use the function call <code>Utils.&lt;function-name&gt;(&lt;params&gt;)</code>, for example <code>Utils.addDate(report.reported_date, 10)</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isTimely(date, event)</code></td>
<td>Returns true if the given date is after the start date and before the end date of the event.</td>
</tr>
<tr>
<td><code>addDate(date, days)</code></td>
<td>Returns a new Date set to midnight the given number of days after the given date. If no date is given the date defaults to today.</td>
</tr>
<tr>
<td><code>getLmpDate(doc)</code></td>
<td>Attempts to work out the LMP from the given doc. If no LMP is given it defaults to four weeks before the reported_date.</td>
</tr>
<tr>
<td><code>getSchedule(name)</code></td>
<td>Returns the task schedule with the given name from the configuration.</td>
</tr>
<tr>
<td><code>getMostRecentTimestamp(reports, form)</code></td>
<td>Returns the reported_date of the most recent of the reports with form ID matching the given form.</td>
</tr>
<tr>
<td><code>getMostRecentReport(reports, form)</code></td>
<td>Like <code>getMostRecentTimestamp</code> but returns the report, not just the reported_date.</td>
</tr>
<tr>
<td><code>isFormSubmittedInWindow(reports, form, start, end)</code></td>
<td>Returns true if any of the given reports are for the given form and were reported after start and before end.</td>
</tr>
<tr>
<td><code>isFirstReportNewer(firstReport, secondReport)</code></td>
<td>Returns true if the firstReport was reported before the secondReport.</td>
</tr>
<tr>
<td><code>isDateValid(date)</code></td>
<td>Returns true if the given date is a validate JavaScript Date.</td>
</tr>
<tr>
<td><code>now()</code></td>
<td>Returns the current Date.</td>
</tr>
<tr>
<td><code>MS_IN_DAY</code></td>
<td>A constant for the number of milliseconds in a day.</td>
</tr>
</tbody>
</table>
<p>Please open <a href="https://github.com/medic/cht-core/issues/new">an issue</a> if you&rsquo;d like other functions included.</p>
<h2 id="nools-extras">Nools Extras</h2>
<p>Helper variables and functions can be defined in <code>nools-extras.js</code>, which is shared by both <code>tasks.js</code> and <code>targets.js</code>. The following are global variables that can be used:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c.contact</code></td>
<td>The contact&rsquo;s doc. All contacts have <code>type</code> of either <code>person</code> or <code>place</code>.</td>
</tr>
<tr>
<td><code>c.reports</code></td>
<td>An array of all the reports submitted about the contact.</td>
</tr>
<tr>
<td><code>console</code></td>
<td>Useful for outputting <em>debugging</em> statements. Should not be used in production code.</td>
</tr>
<tr>
<td><code>Utils</code></td>
<td>Useful functions across projects are available, and describe in the Utils section.</td>
</tr>
</tbody>
</table>

<h2 id="code-samples">Code samples</h2>
<h3 id="basic-task">Basic task</h3>
<p>This sample <code>tasks.js</code> generates two postnatal-visit tasks for each delivery form. The tasks are due 7 and 14 days after the delivery report was submitted. Each task is displayed for 2 days before the due date and 2 days after the due date.</p>
<h4 id="tasksjs-1">tasks.js</h4>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000">module</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span>
  <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">icon</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;mother-child&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">title</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task.postnatal_followup&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesTo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;reports&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesToType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#39;delivery&#39;</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">actions</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">form</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;postnatal_visit&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">events</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">},</span>
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">]</span>
  <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">];</span>
</code></pre></div><h3 id="tasks-with-functions">Tasks with functions</h3>
<p>These samples show more complex tasks which use functions kepts in a separate <code>nools-extras.js</code> file</p>
<h4 id="tasksjs-2"><code>tasks.js</code></h4>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">extras</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">require</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;./nools-extras&#39;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">isFormFromArraySubmittedInWindow</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#000">module</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span>
  <span style="color:#8f5902;font-style:italic">// PNC TASK 1: If a home delivery, needs clinic tasks
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">icon</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;mother-child&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">title</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">locale</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;en&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">content</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Postnatal visit needed&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">appliesTo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;reports&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesToType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#39;D&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;delivery&#39;</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">appliesIf</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">isCoveredByUseCase</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">contact</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;pnc&#39;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span>
          <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">fields</span> <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span>
             <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">fields</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">delivery_code</span> <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span>
             <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">fields</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">delivery_code</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">toUpperCase</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">!==</span> <span style="color:#4e9a06">&#39;F&#39;</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000">actions</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[{</span> 
      <span style="color:#000">form</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;postnatal_visit&#39;</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#8f5902;font-style:italic">// Pass content that will be used within the task form
</span><span style="color:#8f5902;font-style:italic"></span>      <span style="color:#000">modifyContent</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">content</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">content</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">delivery_place</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;home&#39;</span><span style="color:#000;font-weight:bold">;</span>
      <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}],</span>
    <span style="color:#000">events</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">priority</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#000">level</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;high&#39;</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000">label</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">locale</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;en&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">content</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Home Birth&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000">resolvedIf</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// Resolved if there a visit report received in time window or a newer pregnancy
</span><span style="color:#8f5902;font-style:italic"></span>      <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reported_date</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">getNewestDeliveryTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">||</span>
             <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reported_date</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">getNewestPregnancyTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">||</span>
             <span style="color:#000">isFormFromArraySubmittedInWindow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reports</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">postnatalForms</span><span style="color:#000;font-weight:bold">,</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">start</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">(),</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span>  <span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000;font-weight:bold">},</span>

  <span style="color:#8f5902;font-style:italic">// Option 1a: Place-based task: Family survey when place is created, then every 6 months
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">icon</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;family&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">title</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task.family_survey.title&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesTo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;contacts&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesToType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#39;clinic&#39;</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">actions</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">form</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;family_survey&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">events</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;family-survey&#39;</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">resolvedIf</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// Resolved if there a family survey received in time window
</span><span style="color:#8f5902;font-style:italic"></span>      <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">isFormFromArraySubmittedInWindow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reports</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;family_survey&#39;</span><span style="color:#000;font-weight:bold">,</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">start</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">(),</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span>  <span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000;font-weight:bold">},</span>

  <span style="color:#8f5902;font-style:italic">// Regular check for infants
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">icon</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;infant&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">title</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task.infant.title&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesTo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;contacts&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesToType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#39;person&#39;</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">actions</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">form</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;infant_assessment&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">events</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> 
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;infant_asssessment-q1&#39;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">91</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">},</span>
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;infant_asssessment-q2&#39;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">182</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">},</span>
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;infant_asssessment-q3&#39;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">273</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">},</span>
      <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;infant_asssessment-q4&#39;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#000">days</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">365</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">]</span>
  <span style="color:#000;font-weight:bold">},</span>

  <span style="color:#8f5902;font-style:italic">// Option 2: Place-based task: Family survey every 6 months
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">icon</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;family&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">title</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task.family_survey.title&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesTo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;contacts&#39;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">appliesToType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#39;clinic&#39;</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">appliesIf</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">needsFamilySurvey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#8f5902;font-style:italic">// function returns true if family doesn&#39;t have survey in previous 6 months
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">actions</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">form</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#4e9a06">&#39;family_survey&#39;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">events</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;family-survey&#39;</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000">start</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">14</span><span style="color:#000;font-weight:bold">,</span>
      <span style="color:#000">dueDate</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">extras</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">getNextFamilySurveyDate</span>  <span style="color:#8f5902;font-style:italic">// function gets expected date of next family survey 
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">],</span>
    <span style="color:#000">resolvedIf</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// Resolved if there a family survey received in time window
</span><span style="color:#8f5902;font-style:italic"></span>      <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">isFormFromArraySubmittedInWindow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reports</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;family_survey&#39;</span><span style="color:#000;font-weight:bold">,</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">start</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">(),</span>
                 <span style="color:#000">Utils</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">addDate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dueDate</span><span style="color:#000;font-weight:bold">,</span>  <span style="color:#000">event</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">end</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">getTime</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000;font-weight:bold">},</span>

<span style="color:#000;font-weight:bold">]</span>
</code></pre></div><h4 id="nools-extrasjs"><code>nools-extras.js</code></h4>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000">module</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">isCoveredByUseCase</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">contact</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">usecase</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// ...
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000">getNewestDeliveryTimestamp</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// ...
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000">getNewestPregnancyTimestamp</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// ...
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">},</span>
  <span style="color:#000">isFormFromArraySubmittedInWindow</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">reports</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">formsArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">startTime</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">endTime</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#8f5902;font-style:italic">// ...
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000;font-weight:bold">},</span>
<span style="color:#000;font-weight:bold">};</span>
</code></pre></div><h2 id="build">Build</h2>
<p>To build your tasks into your app, you must compile them into app-settings, then upload them to your instance.</p>
<p><code>medic-conf --local compile-app-settings backup-app-settings upload-app-settings</code></p>

	


<h2>Related Content</h2>
<div class="section-index">
	
	
	<hr class="panel-line">
	
	
	
	
	
	<div class="entry">
		<h5>
			<a href="/beta/apps/features/tasks/">
	
		
		
	
		
		
	
		
	
		
		CHT Applications >
		

		
	
		
		Features >
		

		
	
		
		Tasks
		
</a>
			
		</h5>
		<p>Ensuring that the right actions are taken for the right people at the right time</p>
	</div>
	
	
	
	
	
	
	<div class="entry">
		<h5>
			<a href="/beta/apps/concepts/workflows/">
	
		
		
	
		
		
	
		
	
		
		CHT Applications >
		

		
	
		
		Concepts >
		

		
	
		
		Building Workflows
		
</a>
			
		</h5>
		<p>Building connections between people, actions, and data systems</p>
	</div>
	
	
	
	
	
	
	<div class="entry">
		<h5>
			<a href="/beta/design/apps/">
	
		
		
	
		
	
		
		Design System >
		

		
	
		
		Guidelines for App Developers
		
</a>
			
		</h5>
		<p>This document covers the configuration best practices of forms, tasks, targets, and contact profiles when building your own community health app.</p>
	</div>
	
	
	
</div>


	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/medic/cht-docs/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/medic/cht-docs/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified 04.06.2020: <a  href="https://github.com/medic/cht-docs/commit/11b29c316dd6659fe1b135185942c985d6cccb7f">related-links (11b29c3)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 CHT All Rights Reserved</small>
        <small class="ml-1"><a href="https://docs.google.com/document/d/1MaI1rgYMNyCZF2eEjBuvnBDoCYHDKlx4k_N5pkDiWu8/edit?usp=sharing" target="_blank">Privacy Policy</a></small>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/beta/js/main.min.7afee248b9b3c1d4438c6841cc272ae0ac1f81a3ee5c0ed939f1d57c18de3f7d.js" integrity="sha256-ev7iSLmzwdRDjGhBzCcq4KwfgaPuXA7ZOfHVfBjeP30=" crossorigin="anonymous"></script>



  </body>
</html>